{% extends 'admin_templates/admin_base.html' %}
{% load static %}
{% static "images" as baseUrl %}
{% block title %} InfoJini- Admin Book List {% endblock %}
{% block css %}
{% endblock %}

{% block body %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css">
<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar  ">
<div class="layout-container">
<!-- Menu -->

<aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">

<div class="app-brand demo ">
  <a href="#" class="app-brand-link">
    <span class="app-brand-logo demo">
      <img src="{% static 'assets/images/1.jpeg' %}" alt="">
</span>
<span class="app-brand-text demo menu-text fw-bolder ms-2"></span>
</a>
<a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
<i class="bx bx-chevron-left bx-sm align-middle"></i>
</a>
</div>

<div class="menu-inner-shadow"></div>
{% include 'admin_templates/admin_sidebar.html' %}

</aside>
<!-- / Menu -->
<!-- Layout container -->
<div class="layout-page">
<!-- Navbar -->
<nav class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme" id="layout-navbar">
      
<div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0   d-xl-none ">
  <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
    <i class="bx bx-menu bx-sm"></i>
  </a>
</div>
    
<div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse"> 
<!-- Search -->
<div class="navbar-nav align-items-center">
  <div class="nav-item d-flex align-items-center">
    <i class="bx bx-search fs-4 lh-0"></i>
    <input type="text" class="form-control border-0 shadow-none" placeholder="Search..." aria-label="Search...">
  </div>
</div>
<!-- /Search -->
{% include 'admin_templates/admin_navbar.html' %}
</div>
</nav>

<!-- / Navbar -->
<!-- Content wrapper -->
<div class="content-wrapper">

<!-- Content -->

<div class="container-xxl flex-grow-1 container-p-y">
        
        
<h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light"></span>Books List</h4>

<!-- Basic Layout & Basic with Icons -->
<div class="row">
<!-- Basic Layout -->
<!-- Bordered Table -->
<div class="shadow-lg card">
    <div class="card-body">
      <div class="table-responsive text-nowrap">
        <table class="table table-bordered" id="example">
          <thead>
            <tr>
                <th>Sr. No</th>
                <th>Title</th>
                <th>Category</th>
                <th>Author</th>
                <th>Copies</th>
                <th>Publication</th>
                <th>Pub Name</th>
                <th>ISBN</th>
                <th>Copyright</th>
                <th>Date Added</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for book in books %}
            <tr>
              <td>{{forloop.counter}}.</td>
              <td>{{book.title}}</td>
              <td>{{book.category}}</td>
              <td>{{book.author}}</td>
              <td>{{book.copies}}</td>
              <td>{{book.publication}}</td>
              <td>{{book.pub_name}}</td>
              <td>{{book.isbn}}</td>
              <td>{{book.copyright}}</td>
              <td>{{book.Date_added}}</td>
              <td>{{book.status}}</td>
              <td>
                <a href="{% url 'view_book' book.id %}" type="button" class="btn btn-outline-primary btn-sm">View</a>
              <a href="{% url 'book_edit' book.id  %}" type="button" class="btn btn-outline-info btn-sm">Edit</a>
              <a href="{% url 'delete_book' book.id %}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure you want to delete this book?')">Delete</a></td>
          </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
</div>
<!--/ Bordered Table -->
</div>

</div>
<!-- / Content -->
{% endblock %}
{% block js %}

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>

<script>
  $(document).ready(function () {
    $('#example').DataTable({
      dom: 'Bfrtip',
      buttons: [
        'copyHtml5',
        'excelHtml5',
        'csvHtml5',
        'pdfHtml5'
      ]
    });
  });
</script>
{% endblock %}
